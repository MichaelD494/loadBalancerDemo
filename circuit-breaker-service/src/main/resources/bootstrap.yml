spring:
  application:
    name: circuit-breaker   # 应用程序名
  profiles:
    active: dev             # 当前环境配置
  cloud:
    bootstrap:
      enable: true          # 是否启用Spring Cloud Config
    config:
      uri: http://localhost:7100 # Spring Cloud Config的服务端地址

# 允许所有的web endpoint访问
management.endpoints.web.exposure.include: '*'
# 总是显示健康详情
management.endpoint.health.show-details: always

resilience4j.circuitbreaker:        # 熔断器配置
  configs:
    default:
      registerHealthIndicator: true
      slidingWindowSize: 50
      eventConsumerBufferSize: 10
  instances:            # 实例配置
    user:               # user服务实例配置
      registerHealthIndicator: true    # 注册健康指标
      slidingWindowSize: 3   # 滑动窗口大小
    say-hello:          # say-hello服务实例配置
      registerHealthIndicator: true  # 注册健康指标
      slidingWindowSize: 3 # 滑动窗口大小

resilience4j.timelimiter:     # 时间限制器配置
  configs:
    default:
      timeoutDuration: 5s
      cancelRunningFuture: true
  instances:                  # 实例配置
    user:
      timeoutDuration: 2s     # 超时时间
      slidingWindowSize: 3   # 滑动窗口大小
    say-hello:                # say-hello服务实例配置
      timeoutDuration: 2s     # 超时时间
      slidingWindowSize: 3   # 滑动窗口大小

#logging:
#  level:
#    root: DEBUG
